(this["webpackJsonpbitcoin-market-analyzer"]=this["webpackJsonpbitcoin-market-analyzer"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(9),i=n.n(c),s=n(3),o=(n(16),n.p+"static/media/logo.229e5f10.svg"),l=(n(17),n(10)),u=n(4);u.b.positioners.bottom=function(e){var t=this._chart,n=u.b.positioners.average(e);return!!n&&{x:n.x,y:t.chartArea.bottom}};var d={data:{datasets:[{label:"Price",type:"line",backgroundColor:"rgb(242, 169, 0)",borderColor:"rgb(242, 169, 0)",pointRadius:"0",segment:{borderColor:function(e){return e.p0.parsed.y<e.p1.parsed.y?"rgb(0, 255, 0)":"rgb(255, 0, 0)"}}},{label:"Volume",backgroundColor:"rgb(0, 0, 0, 0.2)",hoverBackgroundColor:"rgb(0, 0, 0, 0.6)",type:"bar",yAxisID:"y2"}]},options:{interaction:{intersect:!1,mode:"index"},scales:{x:{ticks:{autoSkipPadding:12,maxRotation:30}},y:{type:"linear",position:"left",title:{display:!0,text:"Price [\u20ac / BTC]"}},y2:{type:"linear",position:"right",title:{display:!0,text:"Volume [\u20ac]"}}},plugins:{legend:{display:!1},title:{display:!0,text:"Daily price and trading volume of Bitcoin",color:"black",font:{family:'"Ubuntu", sans-serif',weight:"bold",size:18}},tooltip:{position:"bottom",xAlign:"center",yAlign:"bottom",usePointStyle:!0,caretPadding:4,callbacks:{label:function(e){return"".concat(e.dataset.label," ").concat(e.formattedValue," \u20ac")},labelPointStyle:function(){return{pointStyle:"circle",pointRadius:0}}}}},elements:{point:{hoverRadius:"6"}}}},b=n(0);var j=function(e){var t=e.pricesByDate,n=e.volumesByDate,a=Object(r.useRef)(),c=Object(r.useRef)();return Object(r.useEffect)((function(){return c.current=new l.a(a.current,d),c.current.options.maintainAspectRatio=!1,function(){return c.current.destroy()}}),[]),Object(r.useEffect)((function(){c.current.data.datasets[0].data=t,c.current.data.datasets[1].data=n,c.current.update()}),[t,n]),Object(b.jsx)("div",{className:"chart-container",children:Object(b.jsx)("canvas",{ref:a})})},h=n(8),p=n.n(h),f=n(11);function m(e){return new Date(e).toISOString().slice(0,10)}var O="https://api.coingecko.com/api/v3/coins/bitcoin/market_chart/range";function v(){return(v=Object(f.a)(p.a.mark((function e(t,n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"?vs_currency=eur&from=").concat(t/1e3,"&to=").concat(n/1e3+3600));case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",{prices:x(a.prices),volumes:x(a.total_volumes)});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){var t={};return e.forEach((function(e){var n=Object(s.a)(e,2),r=n[0],a=n[1],c=function(e){return new Date(e).toUTCString().slice(5,16)}(r);t[c]=t[c]||a})),t}function g(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}var y="2013-04-28",D=function(e){var t=new Date(e);return t.setMonth(t.getMonth()-1),t.getTime()}(Date.now()),k=Date.now();var w=function(){var e=Object(r.useState)(D),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(k),i=Object(s.a)(c,2),l=i[0],u=i[1],d=Object(r.useState)([]),h=Object(s.a)(d,2),p=h[0],f=h[1],O=Object(r.useState)([]),x=Object(s.a)(O,2),w=x[0],B=x[1];Object(r.useEffect)((function(){(function(e,t){return v.apply(this,arguments)})(n,l).then((function(e){var t=e.prices,n=e.volumes;f(t),B(n)}))}),[n,l]);var S,N=function(e){var t,n,r,a={startDate:null,endDate:null,trendLength:0};return Object.entries(e).forEach((function(e,c,i){var o=Object(s.a)(e,2),l=o[0],u=o[1];if(0===c||u>=i[c-1][1])return t=l,void(r=0);r++,n=l,r>a.trendLength&&(a={startDate:t,endDate:n,trendLength:r})})),a}(p),C=(S=w,Object.entries(S).reduce((function(e,t){var n=Object(s.a)(t,2),r=n[0],a=n[1];return a>e.volume?{date:r,volume:a}:e}),{date:null,volume:0})),I=function(e){var t,n,r={buyDate:null,sellDate:null,profit:0};return Object.entries(e).forEach((function(e,a){var c=Object(s.a)(e,2),i=c[0],o=c[1];if(0===a||o<n)return n=o,void(t=i);var l=o-n;l>r.profit&&(r={buyDate:t,sellDate:i,profit:l})})),r}(p);return Object(b.jsxs)("div",{children:[Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("img",{src:o,width:"60",height:"60",alt:"Bitcoin Icon"})," ",Object(b.jsx)("h1",{children:"Bitcoin Market Analyzer"})]}),Object(b.jsxs)("main",{children:[Object(b.jsx)("h3",{children:"The date range to be analyzed"}),Object(b.jsxs)("div",{className:"date-inputs",children:[Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("label",{htmlFor:"fromInput",children:"Start date"}),Object(b.jsx)("input",{id:"fromInput",type:"date",value:m(n),min:y,max:m(k),onChange:function(e){return a(new Date(e.target.value).getTime()||D)}})]}),Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("label",{htmlFor:"toInput",children:"End date"}),Object(b.jsx)("input",{id:"toInput",type:"date",value:m(l),min:y,max:m(k),onChange:function(e){return u(new Date(e.target.value).getTime()||k)}})]})]}),Object(b.jsxs)("div",{className:"cards",children:[Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("h3",{children:"Longest bearish trend"}),Object(b.jsxs)("p",{className:"card-focal",children:[N.trendLength," days"]}),Object(b.jsxs)("p",{children:[N.startDate," - ",N.endDate]})]}),Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("h3",{children:"Highest trading volume"}),Object(b.jsxs)("p",{className:"card-focal",children:[g(C.volume.toFixed(0))," \u20ac"]}),Object(b.jsx)("p",{children:C.date})]}),Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("h3",{children:"Maximum profit"}),Object(b.jsxs)("p",{className:"card-focal",children:[g(I.profit.toFixed(2))," \u20ac / BTC"]}),Object(b.jsx)("div",{children:I.buyDate?Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:["If Bitcoins were bought on"," ",Object(b.jsx)("time",{children:I.buyDate})," and sold on"," ",Object(b.jsx)("time",{children:I.sellDate})]})}):Object(b.jsx)("p",{children:"Bitcoin should not be bought on the selected date range"})})]})]}),Object(b.jsx)(j,{pricesByDate:p,volumesByDate:w})]})]})};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(w,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.880053c7.chunk.js.map